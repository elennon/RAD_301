@model CA2.Order

@{
    ViewBag.Title = "Edit";
}

<h4>You can edit the fields below and click to save</h4>


<div class="DivSplitLeft">
    <h5>This order's associated employee is :  </h5>
    

    <h5>Select one from the list below to change </h5>
 @using (Ajax.BeginForm("Edit", "Home", new { @id = Model.OrderID }, new AjaxOptions { InsertionMode = InsertionMode.Replace, HttpMethod = "GET", UpdateTargetId = "employee" },
    new { @class = "form-horizontal", @role = "form" }))
    {
                <div >
                    @Html.DropDownList("Employee", (SelectList)(ViewBag.Employee ), new { @class = "form-control",@onchange="$(this.form).submit();"})
                </div>       
}
</div>

<div id="employee">

</div>



<div class="DivSplitRight">
    @using (@Html.BeginForm("Index", "Genre", FormMethod.Get,
                    new { @class = "form-horizontal", @role = "form" }))
    {
       @Html.DropDownList("Shipper",  (SelectList)(ViewBag.Shipper ), new { @class = "form-control",@onchange = "$(this.form).submit();"})
           
    }
</div>

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

<table class="table table-striped table-hover"    >

    <tr>
        <th class="editor-label">
            @Html.DisplayNameFor(model => model.RequiredDate)
        </th>
        <th class="editor-label">
            @Html.DisplayNameFor(model => model.ShipCountry)
        </th>
        <th  class="editor-label">
            @Html.DisplayNameFor(model => model.ShipName)
        </th>
        <th  class="editor-label">
            @Html.DisplayNameFor(model => model.ShipRegion)
        </th>
        <th  class="editor-label">
            @Html.DisplayNameFor(model => model.Shipper)
        </th>
        <th class="editor-label">
            @Html.DisplayNameFor(model => model.OrderDate)
        </th>
      
        <th  class="editor-label">
            @Html.DisplayNameFor(model => model.Freight)
        </th>
       
        <th></th>
    </tr>


    <tr>
        <td >
           <div class="editor-field">
                @Html.EditorFor(model => model.RequiredDate)
                @Html.ValidationMessageFor(model => model.RequiredDate)
            </div>
        </td>
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.ShipCountry)
                @Html.ValidationMessageFor(model => model.ShipCountry)
            </div>
        </td>
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.ShipName)
                @Html.ValidationMessageFor(model => model.ShipName)
            </div>
        </td>
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.ShipRegion)
                @Html.ValidationMessageFor(model => model.ShipRegion)
            </div>
        </td>
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.Shipper)
                @Html.ValidationMessageFor(model => model.Shipper)
            </div>
        </td>
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.OrderDate)
                @Html.ValidationMessageFor(model => model.OrderDate)
            </div>
        </td>
        
        <td>
            <div class="editor-field">
                @Html.EditorFor(model => model.Freight)
                @Html.ValidationMessageFor(model => model.Freight)
            </div>
        </td>
        
        
    </tr>
            
</table>
        <p>
            <input type="submit" value="Save" class="btn btn-danger" />
        </p>
}
    <div>
    @Html.ActionLink("Back to Orders", "Index","Home")
    </div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

