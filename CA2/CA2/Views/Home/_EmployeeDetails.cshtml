@model IEnumerable<CA2.Order>

<h3>Employee Details</h3>

@if(Model.Count() == 1)
{
<div id="employeeDetails" >
    <div style="float:left; width:45%;">
        <fieldset>
            <legend></legend>

            <div class="display-label">
                 @Html.DisplayNameFor(model => model.Employee.FirstName)
            </div>
            <div class="display-label">
                 @Html.DisplayNameFor(model => model.Employee.LastName)
            </div>
            <div class="display-label">
                 @Html.DisplayNameFor(model => model.Employee.City)
            </div>
            <div class="display-label">
                 @Html.DisplayNameFor(model => model.Employee.ReportsTo)
            </div>
        </fieldset>
    </div>

    <div style="float:right; width:45%;">
        <fieldset>
            <legend></legend>
    @foreach (var item in Model)
    {
            <div class="display-label">
                 @Html.DisplayFor(modelItem => item.Employee.FirstName)
            </div>
            <div class="display-label">
                 @Html.DisplayFor(modelItem => item.Employee.LastName)
            </div>
            <div class="display-label">
                 @Html.DisplayFor(modelItem => item.Employee.City)
            </div>
            <div class="display-label">
                  @Html.DisplayFor(modelItem => item.Employee.boss.LastName)               
            </div>
        
        using (@Html.BeginForm("getEmployee", "Home", FormMethod.Get, 
            new {@class="form-horizontal", @role="form"})){
            //<button id="btnReload" onclick="$(this.form).submit();" class="btn btn-block btn-primary">Click for orders</button>
            <button id="btnReload"  class="btn btn-block btn-primary">Click for orders</button>
        }
    }
        </fieldset>
    </div>
</div>
}
else
{
    
    <div id =" ordersByEmployee" >

        <table class="table table-striped table-hover" id="table"   >
    
        <tr  >
        
            <th>
                @Html.DisplayNameFor(model => model.Customer.ContactName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OrderDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RequiredDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ShippedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ShipVia)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Freight)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ShipName)
            </th>
        
        
            <th></th>
        </tr>

    @foreach (var item in Model)
    {
        <tr  >
   
            @Html.HiddenFor(modelItem => item.EmployeeID)
            @*<tr onclick="location.href = '@(Url.Action("getAlbums", "orders", new { id = item.OrderId }))'" >*@
            <td>
                @Html.DisplayFor(modelItem => item.Customer.ContactName)
            </td>
            <td>
                @*@Html.DisplayFor(modelItem => item.OrderDate)*@
                @string.Format("{0: MM/dd/yy}", item.OrderDate)
            </td>
            <td>
               @* @Html.DisplayFor(modelItem => item.RequiredDate)*@
                @string.Format("{0: MM/dd/yy}", item.RequiredDate)
            </td>
            <td>
                @*@Html.DisplayFor(modelItem => item.ShippedDate)*@
                @string.Format("{0: MM/dd/yy}", item.ShippedDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ShipVia)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Freight)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ShipName)
            </td>
        </tr>

    }
    </table>
    </div>
}

@section scripts {
    $(document).on("click","#btnReload",function() {

                $("#employeeDetails").

            });

}
