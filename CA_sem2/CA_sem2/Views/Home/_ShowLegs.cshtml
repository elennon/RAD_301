@model CA_sem2.Models.Leg

@section Scripts {
    @*@Scripts.Render("~/bundles/jqueryval")*@
       <script type="text/javascript">
           $(function () {
               
                   $("#guests").change(function () {
                      
                       var gts = {
                           Id: $(this).val()
                       };
                       $.ajax({
                           type: 'POST',
                           url: '/Home/_AddGuests',
                           cache: false,
                           contentType: 'application/json; charset=utf-8',
                           data: JSON.stringify(gts),
                           success: function (data) {
                               $("#showGuests").html(data);
                           },
                           error: function () {
                               alert("errorlllllgsss");
                           }
                       });
                   });            
               });
           
        </script>
}

         <div class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="nme" class="col-sm-4 control-label">From</label>
                    <div class="col-sm-8">  
                        @*@Html.TextBoxFor(model => model.StartLocation, new { @class = "label label-default" } )   *@            
                        <input type="text" class="form-control" value="@Model.StartLocation" id="nme" name="StartLocation" >
                    </div>
                </div>
                <div class="form-group">
                    <label for="fl" class="col-sm-4 control-label">Going To</label>
                    <div class="col-sm-8">                 
                        <input type="text" class="form-control" id="fl" value="@Model.FinishLocation" name="FinishLocation" placeholder="To">
                    </div>
                </div>
                <div class="form-group">
                    <label for="sd" class="col-sm-4 control-label">Start date</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="sd" value="@Model.StartDate.ToShortDateString()" name="StartDate" placeholder="start date">
                    </div>
                </div>
                <div class="form-group">
                    <label for="fd" class="col-sm-4 control-label">Finish date</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="fd" value="@Model.FinishDate.ToShortDateString()" name="FinishDate" placeholder="finish date">
                    </div>
                </div>
                
                <div class="col-sm-8" role="form" >                   
                    @Html.DropDownList("guests", (SelectList)(ViewBag.guests), new { @class = "form-control" })        
                    @Ajax.ActionLink("Add Guests", "_AddGuests", "Home", new { id = Model.Id }, new AjaxOptions { InsertionMode = InsertionMode.Replace, UpdateTargetId = "showGuests" }, new { @class = "btn btn-primary active" })
                </div>
        </div>